<!DOCTYPE html>

<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="icon" type="image/png" href="static/images/image.png"/>
    <title>Groupie Tracker</title>
    <link rel="stylesheet" href="/css/accueil.css">
    <link rel="stylesheet" href="/css/viewAllArtists.css">
</head>

<body>
    <div class="back-grad">
        <div id="container-groupie_title">
            <nav>
                <div class="groupie_title">
                    <h1>
                        <a href="/">GROUPIE TRACKER</a>
                    </h1>
                </div>
                <div class="search-bar">
                    <form class="search-form" action="/artists?q={{.SearchQuery}}" method="GET">
                        <div class="input-container">
                            <input placeholder="Search artists..." class="search-input" id="text-search" type="text" name="q" value="{{.SearchQuery}}" autocomplete="off"/>
                            
                            {{if .Suggestions}}
                            <div class="auto-complete-list">
                                {{range .Suggestions}}
                                <a href="/artists?search={{.}}">
                                    <li>{{.}}</li>
                                </a>
                                {{end}}
                            </div>
                            {{end}}
                        </div>

                        <button class="submit-button" type="submit">
                            <svg viewBox="0 0 20 20" fill="none" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" class="icon-submit">
                                <path d="m19 19-4-4m0-7A7 7 0 1 1 1 8a7 7 0 0 1 14 0Z" stroke-width="2" stroke-linejoin="round" stroke-linecap="round" stroke="currentColor"></path>
                            </svg>
                            <p>Search</p>
                        </button>
                    </form>
                </div>
                <ul class="groupie_artists">
                    <li><a href="/" class="nav-link">Accueil</a></li>
                    <li><a href="/artists" class="nav-link">Artistes</a></li>
                    <li><a href="/concerts" class="nav-link">Évènements</a></li>
                </ul>
            </nav>
        </div>
        

        <div>
            <div class="viewall-package">
                <div class="artists-viewall">
                    {{range .Artists}}
                    <div class="artists-card">
                        <div class="artist-image">
                            <img onclick="window.location.href='/artists?search=' + encodeURIComponent('{{.Name}}')" src="{{.Image}}" alt="{{.Name}}">
                        </div>
                        <div class="artist-info">
                            <h3 onclick="window.location.href='/artists?search=' + encodeURIComponent('{{.Name}}')">{{.Name}}</h3>
                            <p class="creation-date" onclick="window.location.href='/artists?search=' + encodeURIComponent('{{.Name}}')">Since {{.CreationDate}}</p>
                            <p class="members-count" onclick="window.location.href='/artists?search=' + encodeURIComponent('{{.Name}}')">{{len .Members}} member(s)</p>
                            <p class="first-album" onclick="window.location.href='/artists?search=' + encodeURIComponent('{{.Name}}')">First Album: {{.FirstAlbum}}</p>
                        </div>
                    </div>
                    {{end}}
                </div>
            </div>
        </div>
    </div>
</body>
</html>